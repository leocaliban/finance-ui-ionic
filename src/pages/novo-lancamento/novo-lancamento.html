<ion-header class="bod">
  <ion-navbar class="bod">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Novo Lançamento</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding class="bod">
  <ion-grid>
    <form [formGroup]='formGroup'>
      <ion-row>

        <ion-item class="bod">
          <ion-label>Tipo</ion-label>
          <ion-select #group interface="popover" formControlName='tipo' required>
            <ion-option value="{{tipo.value}}" *ngFor="let tipo of tipos">{{tipo.label}}</ion-option>
          </ion-select>
        </ion-item>
        <p class='danger' *ngIf="formGroup.controls['tipo'].dirty && formGroup.controls['tipo'].errors" margin-left>
          Selecione um tipo de lançamento.
        </p>

      </ion-row>

      <ion-row>

        <ion-col>
          <ion-item class="bod">
            <ion-label floating>
              Vencimento
            </ion-label>
            <ion-datetime pickerFormat="DD MMMM YYYY" displayFormat="DD MMM YYYY" doneText="CONFIRMAR" cancelText="CANCELAR"
              max="2030-12-01" formControlName='vencimento' required>
            </ion-datetime>
          </ion-item>
          <p class='danger' *ngIf="formGroup.controls['vencimento'].dirty && formGroup.controls['vencimento'].errors"
            margin-left>
            Selecione uma data de vencimento.
          </p>
        </ion-col>

        <ion-col>
          <ion-item class="bod">
            <ion-label floating>
              {{group.value === 'RECEITA' ? 'Recebimento' : 'Pagamento'}}
            </ion-label>
            <ion-datetime pickerFormat="DD MMMM YYYY" displayFormat="DD MMM YYYY" doneText="CONFIRMAR" cancelText="CANCELAR"
              max="2030-12-01">
            </ion-datetime>
          </ion-item>
        </ion-col>

      </ion-row>

      <ion-row>
        <ion-item class="bod">
          <ion-label floating>
            Descrição
          </ion-label>
          <ion-input type="text" formControlName='descricao' required minlength="5"></ion-input>
        </ion-item>
        <p class='danger' *ngIf="formGroup.controls['descricao'].dirty && formGroup.controls['descricao'].errors"
          margin-left>
          Informe uma descrição com no mínimo 5 caracteres.
        </p>
      </ion-row>

      <ion-row>
        <ion-item class="bod">
          <ion-label floating>
            Valor
          </ion-label>
          <ion-input type="text" name="money" [brmasker]="{money: true, thousand: '.',  decimalCaracter: ','}"
            formControlName='valor' required></ion-input>
        </ion-item>
        <p class='danger' *ngIf="formGroup.controls['valor'].dirty && formGroup.controls['valor'].errors" margin-left>
          Informe o valor.
        </p>
      </ion-row>

      <ion-row>
        <ion-item class="bod">
          <ion-label>Categoria</ion-label>
          <ion-select submitText="Okay" cancelText="Cancelar" formControlName='categoria' required>
            <ion-option value="{{categoria.value}}" *ngFor="let categoria of categorias">{{categoria.label}}</ion-option>
          </ion-select>
        </ion-item>
        <p class='danger' *ngIf="formGroup.controls['categoria'].dirty && formGroup.controls['categoria'].errors"
          margin-left>
          Selecione uma categoria.
        </p>
      </ion-row>

      <ion-row>
        <ion-item class="bod">
          <ion-label>Pessoa</ion-label>
          <ion-select submitText="Okay" cancelText="Cancelar" formControlName='pessoa' required>
            <ion-option value="{{pessoa.value}}" *ngFor="let pessoa of pessoas">{{pessoa.label}}</ion-option>
          </ion-select>
        </ion-item>
        <p class='danger' *ngIf="formGroup.controls['pessoa'].dirty && formGroup.controls['pessoa'].errors" margin-left>
          Selecione uma pessoa.
        </p>
      </ion-row>

      <ion-row>
        <ion-item class="bod">
          <ion-label floating>
            Observação
          </ion-label>
          <ion-input name='observacao' type="text"></ion-input>
        </ion-item>
      </ion-row>

      <ion-row style="margin-top: 20px;">
        <ion-col>
          <button ion-button round icon-start color="secondary" [disabled]='formGroup.invalid'>
            <ion-icon name="md-checkmark-circle-outline"></ion-icon>
            SALVAR
          </button>
        </ion-col>
      </ion-row>

    </form>
  </ion-grid>
</ion-content>
